let a=document.createElement("style");a.innerHTML='.chating[data-v-a4644ad2]{width:100%;height:100vh;display:flex;flex-direction:column}.chating>.head[data-v-a4644ad2]{order:1}.chating>.body[data-v-a4644ad2]{flex:1;order:1;padding:1.25rem 1.5rem;overflow:hidden auto}.chating>.body[data-v-a4644ad2]::-webkit-scrollbar{display:none}.chating>.body .scroll-wrapper[data-v-a4644ad2]{height:100%;overflow:hidden}.chating>.body .scroll-wrapper .messageList[data-v-a4644ad2]{width:100%}.chating>.body .scroll-wrapper .messageList .messageItem[data-v-a4644ad2]{display:flex;align-items:flex-end;margin-bottom:2rem}.chating>.body .scroll-wrapper .messageList .messageItem[data-v-a4644ad2]:last-child{margin-bottom:0}.chating>.body .scroll-wrapper .messageList .messageItem.notme .messageBody[data-v-a4644ad2]{margin-left:1.5rem;border-bottom-left-radius:0}.chating>.body .scroll-wrapper .messageList .messageItem.notme .messageBody[data-v-a4644ad2]::after{left:-.85rem}.chating>.body .scroll-wrapper .messageList .messageItem.me[data-v-a4644ad2]{flex-direction:row-reverse}.chating>.body .scroll-wrapper .messageList .messageItem.me .messageBody[data-v-a4644ad2]{margin-right:1.5rem;border-bottom-right-radius:0;background-color:#4198ff;color:#fff}.chating>.body .scroll-wrapper .messageList .messageItem.me .messageBody[data-v-a4644ad2]::after{right:-.85rem;border-color:transparent transparent #4198ff}.chating>.body .scroll-wrapper .messageList .messageItem .avatar[data-v-a4644ad2]{flex:0 0 4.4rem}.chating>.body .scroll-wrapper .messageList .messageItem .messageBody[data-v-a4644ad2]{position:relative;width:fit-content;max-width:60%;padding:1.2rem;line-height:1.5;font-size:1.4rem;background-color:#f5f6fa;border-radius:.8rem}.chating>.body .scroll-wrapper .messageList .messageItem .messageBody[data-v-a4644ad2]::after{content:"";position:absolute;bottom:0;width:0;height:0;border-color:transparent transparent #f5f6fa;border-style:solid;border-width:1rem}.chating>.foot[data-v-a4644ad2]{order:3}.chating>.foot>.wrapper[data-v-a4644ad2]{background:#f5f6fa;padding:1rem 2rem;display:flex;align-items:center}.chating>.foot>.wrapper>.left[data-v-a4644ad2]{flex:1}.chating>.foot>.wrapper>.left .textarea[data-v-a4644ad2]{height:auto;padding:.8rem;font-size:1.4rem;line-height:1.5715;border-radius:.375rem;display:block;width:100%;color:#7f808c;background-color:#fff;background-clip:padding-box;border:1px solid #fff;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-box-shadow .15s ease-in-out;outline:0}.chating>.foot>.wrapper>.left .textarea[data-v-a4644ad2]:focus{border-color:#fff!important;outline:0;box-shadow:none}.chating>.foot>.wrapper>.left .textarea[data-v-a4644ad2]:hover{border-color:#fff!important}.chating>.foot>.wrapper>.right[data-v-a4644ad2]{display:flex;align-items:center}.chating>.foot>.wrapper>.right .icon[data-v-a4644ad2]{width:4rem;height:4rem;border-radius:50%;margin-left:1rem;color:#aab0b7;font-size:2.2rem;display:flex;align-items:center;justify-content:center;transition:.35s}.chating>.foot>.wrapper>.right .icon[data-v-a4644ad2]:hover{cursor:pointer;color:rgba(33,37,41,.5)}.chating>.foot>.wrapper>.right .icon[data-v-a4644ad2]:last-child{background:#0176ff;color:#fff}.chating>.foot>.wrapper>.right .icon[data-v-a4644ad2]:last-child:hover{background:#0064da}.chating>.foot>.wrapper>.right .icon svg[data-v-a4644ad2]{outline:0}.chating>.foot>.wrapper>.right .icon.files[data-v-a4644ad2]{position:relative}.chating>.foot>.wrapper>.right .icon.files svg[data-v-a4644ad2]{font-size:2.2rem;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#aab0b7}.chating>.foot>.wrapper>.right .icon.files svg[data-v-a4644ad2]:hover{color:rgba(33,37,41,.5)}',document.head.appendChild(a);import{a as e,v as t,d as r,R as o,f as n,U as i,i as s,Q as l,r as c,o as d,c as m,w as f,p as g,e as p,k as u,x as h,V as v,W as b,F as w,g as y}from"./index.6bcfca21.js";import{s as O}from"./Avatar.4b95d085.js";import{s as x}from"./index.3a24c4a9.js";import{s as j}from"./index.a39581c0.js";import{I as L}from"./AntdIcon.8ea4e01a.js";import{s as k}from"./NavHeader.57c2caed.js";var z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};function S(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var C=function(a,r){var o=function(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})))),r.forEach((function(e){S(a,e,t[e])}))}return a}({},a,r.attrs);return e(L,t(o,{icon:z}),null)};C.displayName="PaperClipOutlined",C.inheritAttrs=!1;var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function A(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var I=function(a,r){var o=function(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})))),r.forEach((function(e){A(a,e,t[e])}))}return a}({},a,r.attrs);return e(L,t(o,{icon:P}),null)};I.displayName="SendOutlined",I.inheritAttrs=!1;var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};function M(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var U=function(a,r){var o=function(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})))),r.forEach((function(e){M(a,e,t[e])}))}return a}({},a,r.attrs);return e(L,t(o,{icon:B}),null)};U.displayName="SmileOutlined",U.inheritAttrs=!1;var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function E(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var H=function(a,r){var o=function(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?Object(arguments[e]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})))),r.forEach((function(e){E(a,e,t[e])}))}return a}({},a,r.attrs);return e(L,t(o,{icon:_}),null)};function N(a){const e=n({action:"https:"===window.location.protocol?"https://upload-z2.qiniup.com":"http://upload-z2.qiniup.com",list:[],loading:!1,data:{token:"",key:""},domainUrl:""});return{...o(e),handleChange:({file:t,fileList:r})=>{"uploading"===t.status&&(e.loading=!0,e.list=r),"done"===t.status&&(e.loading=!1,e.list=r,a.emit("update:src",`${e.domainUrl}${e.data.key}`)),"error"===t.status&&(e.loading=!1)},beforeUpload:(a,t)=>{if(!("image/jpeg"===a.type||"image/png"===a.type))return i.error("You can only upload JPG file!"),!1;if(!(a.size/1024/1024<2))return i.error("Image must smaller than 2MB!"),!1;const r=`${+new Date}-${s(9999,1e3)}${function(a){let e="";const t=a.lastIndexOf(".");t>=0&&(e=a.substring(t));return e}(a.name)}`;return l("/qiniu/token").then(a=>{e.domainUrl=a.data.domainUrl,e.data.token=a.data.token,e.data.key=r}).catch(()=>{Promise.reject(!1)})}}}H.displayName="UploadOutlined",H.inheritAttrs=!1;var $=r({name:"uploadPrimary",components:{UploadOutlined:H},setup:(a,e)=>({...N(e)})});const q=f("data-v-48b3de19");g("data-v-48b3de19");const D=h(" Click to Upload ");p();const V=q((function(a,t,r,o,n,i){const s=c("upload-outlined"),l=c("a-button"),f=c("a-upload");return d(),m(f,{fileList:a.list,"onUpdate:fileList":t[1]||(t[1]=e=>a.list=e),multiple:!1,"show-upload-list":!1,action:a.action,data:a.data,"before-upload":a.beforeUpload,onChange:a.handleChange},{default:q(()=>[u(a.$slots,"default",{},()=>[e(l,null,{default:q(()=>[e(s),D]),_:1})])]),_:3},8,["fileList","action","data","before-upload","onChange"])}));function R(){const a=n({name:""}),e=b(),{chatId:t}=e.params;return a.name=t,{...o(a)}}function T(a){const e=n({msg:""});return{...o(e),handleSend:()=>{e.msg&&(a.emit("msg",{msg:e.msg}),e.msg="")},emojiSelected:a=>{e.msg+=a.value}}}$.render=V,$.__scopeId="data-v-48b3de19";var F=r({name:"chating",components:{Avatar:O,NavHeader:k,SmileOutlined:U,PaperClipOutlined:C,SendOutlined:I,Emoji:j,Upload:$,Scroller:x},setup(){const a=function(){const{ctx:a}=v();return a.$socket.io}();return{...R(),...T(a)}}});const G=f("data-v-a4644ad2");g("data-v-a4644ad2");const J={class:"chating"},Q={class:"body"},W={class:"messageList"},Y={class:"messageItem notme"},K=e("div",{class:"messageBody"},"明天约吗？",-1),X={class:"messageItem me"},Z=e("div",{class:"messageBody"},"明天约吗？",-1),aa={class:"foot"},ea={class:"wrapper"},ta={class:"left"},ra={class:"right"},oa={class:"icon face"},na=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-emoji-smile",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),e("path",{"fill-rule":"evenodd",d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683z"}),e("path",{d:"M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"})],-1),ia={class:"icon files"},sa=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},[e("path",{d:"M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"}),e("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z"})],-1),la=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-cursor-fill",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103z"})],-1);p();const ca=G((function(a,t,r,o,n,i){const s=c("NavHeader"),l=c("Avatar"),f=c("Scroller"),g=c("a-textarea"),p=c("Emoji"),u=c("Upload");return d(),m("div",J,[e(s,{class:"head",title:a.name||"Chris"},null,8,["title"]),e("div",Q,[e(f,{class:"scroll-wrapper"},{default:G(()=>[e("div",W,[(d(),m(w,null,y(10,a=>(d(),m(w,{key:a},[e("div",Y,[e("div",null,[e(l,{class:"avatar",online:!1,src:"http://ql61yf5hl.hn-bkt.clouddn.com/1608021828527-8669.jfif"})]),K]),e("div",X,[e("div",null,[e(l,{class:"avatar",online:!1,src:"http://ql61yf5hl.hn-bkt.clouddn.com/1608021828527-8669.jfif"})]),Z])],64))),64))])]),_:1})]),e("div",aa,[e("div",ea,[e("div",ta,[e(g,{value:a.msg,"onUpdate:value":t[1]||(t[1]=e=>a.msg=e),class:"textarea",placeholder:"Type your message...","auto-size":{minRows:1,maxRows:3}},null,8,["value"])]),e("div",ra,[e("div",oa,[e(p,{onSelect:a.emojiSelected},{default:G(()=>[na]),_:1},8,["onSelect"])]),e("div",ia,[e(u,{style:{display:"flex","align-items":"center"}},{default:G(()=>[sa]),_:1})]),e("div",{onClick:t[2]||(t[2]=(...e)=>a.handleSend(...e)),class:"icon send"},[la])])])])])}));F.render=ca,F.__scopeId="data-v-a4644ad2";export default F;
